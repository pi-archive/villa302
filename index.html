<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Villa 302: The Archive</title>
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Pen+Script&family=Noto+Serif+KR:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>

    <style>
        :root { 
            --neon-red: #ff3131; --neon-green: #39ff14; --hk-gold: #ffd700; 
            --msg-blue: #007aff; --msg-gray: #e9e9eb; --apple-bg: #1c1c1e;
        }

        body, html { 
            margin: 0; padding: 0; width: 100%; height: 100%; 
            background: #000; color: white; overflow: hidden;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif; 
        }

        /* --- [1. Entry Page] --- */
        #entry-page { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: url('villa interior.png') no-repeat center center/cover; z-index: 50000; display: flex; justify-content: center; align-items: center; }
        .lock-box { background: rgba(0,0,0,0.85); backdrop-filter: blur(20px); padding: 40px; border-radius: 30px; border: 1px solid rgba(255,255,255,0.1); width: 320px; text-align: center; box-shadow: 0 25px 50px rgba(0,0,0,0.5); }
        .user-sel-btn { flex: 1; padding: 15px; background: rgba(255,255,255,0.05); color: white; border: 1px solid rgba(255,255,255,0.2); border-radius: 15px; cursor: pointer; font-weight: bold; }
        .user-sel-btn.active { border-color: var(--neon-green); color: var(--neon-green); background: rgba(57,255,20,0.1); }
        #pw-disp { font-size: 2.8rem; color: var(--neon-red); margin-bottom: 30px; height: 60px; font-family: 'Courier New', monospace; letter-spacing: 8px; }

        /* --- [2. Main Stage] --- */
        #stage { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 100vw; height: 66.67vw; max-width: 150vh; max-height: 100vh; background: url('villa.png') no-repeat center center/contain; background-color: #000; }
        .target { position: absolute; cursor: pointer; z-index: 10; transition: 0.3s; }
        .target:hover { background: rgba(255,255,255,0.1); border-radius: 10px; }
        .wall-pos { top: 18%; left: 50%; width: 15%; height: 35%; } 
        .movie-pos { top: 8%; left: 63%; width: 20%; height: 15%; } 
        .cal-pos { top: 45%; left: 74%; width: 8%; height: 20%; } 
        .diary-pos { top: 52%; left: 57%; width: 13%; height: 8%; } 
        .photo-pos { top: 25%; left: 72%; width: 10%; height: 20%; } 
        .lib-pos { top: 35%; left: 35%; width: 12%; height: 25%; } 
        .exit-pos { top: 15%; left: 91%; width: 9%; height: 75%; } 

        /* --- [3. UI Elements] --- */
        #sitemap-btn { position: fixed; top: 30px; left: 30px; width: 55px; height: 55px; background: rgba(255,255,255,0.1); backdrop-filter: blur(15px); border: 1px solid rgba(255,255,255,0.2); color: white; cursor: pointer; z-index: 1100; border-radius: 15px; display: none; align-items: center; justify-content: center; font-size: 1.5rem; }
        #user-indicator { position: fixed; top: 30px; right: 30px; padding: 15px 25px; background: rgba(0,0,0,0.7); backdrop-filter: blur(10px); border: 1px solid var(--neon-green); border-radius: 40px; color: var(--neon-green); font-weight: 800; z-index: 1000; display: none; cursor: pointer; }

        /* --- [4. Modal System] --- */
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.92); z-index: 10000; justify-content: center; align-items: center; }
        .modal-inner { background: var(--apple-bg); width: 92%; max-width: 800px; height: 85vh; border-radius: 35px; padding: 40px; overflow-y: auto; position: relative; border: 1px solid rgba(255,255,255,0.1); }
        .close-btn { position: absolute; top: 25px; right: 30px; cursor: pointer; font-size: 2.8rem; color: #444; }

        /* --- [5. BGM Playlist UI] --- */
        .playlist-item { background: rgba(255,255,255,0.05); padding: 15px; border-radius: 12px; margin-bottom: 8px; display: flex; justify-content: space-between; align-items: center; }
        .vol-slider { width: 100%; height: 6px; -webkit-appearance: none; background: #444; border-radius: 3px; outline: none; margin: 20px 0; }
        .vol-slider::-webkit-slider-thumb { -webkit-appearance: none; width: 18px; height: 18px; background: var(--msg-blue); border-radius: 50%; cursor: pointer; }

        /* --- [6. High-End Library] --- */
        .shelf { background: #3d2b1f; border: 12px solid #2a1d15; border-radius: 8px; padding: 30px; display: grid; grid-template-columns: repeat(auto-fill, minmax(85px, 1fr)); gap: 20px; min-height: 450px; box-shadow: inset 0 0 60px #000; align-content: start; }
        .book { width: 75px; height: 120px; border-left: 18px solid rgba(0,0,0,0.25); border-radius: 4px; position: relative; cursor: pointer; transition: 0.4s; display: flex; align-items: center; justify-content: center; }
        .book-title { font-size: 0.8rem; color: #fff; text-align: center; writing-mode: vertical-rl; padding: 8px; }

        /* --- [7. iMessage Diary] --- */
        .diary-theme { background: #fff !important; color: #000 !important; }
        #diary-chat { height: calc(100% - 160px); overflow-y: auto; padding: 25px; display: flex; flex-direction: column; }
        .diary-row { display: flex; margin-bottom: 14px; align-items: flex-end; width: 100%; }
        .profile-pic { width: 38px; height: 38px; border-radius: 50%; background-size: cover; background-position: center; margin: 0 10px; flex-shrink: 0; background-color: #f0f0f0; }
        .bubble { max-width: 72%; padding: 12px 18px; border-radius: 22px; font-size: 1rem; position: relative; word-wrap: break-word; line-height: 1.45; }
        .bubble.mine { background: var(--msg-blue); color: #fff; margin-left: auto; border-bottom-right-radius: 4px; cursor: pointer; }
        .bubble.yours { background: var(--msg-gray); color: #000; border-bottom-left-radius: 4px; }
        #send-btn { width: 48px; height: 48px; background: var(--msg-blue); color: white; border: none; border-radius: 50%; cursor: pointer; font-size: 1.4rem; display: flex; align-items: center; justify-content: center; flex-shrink: 0;}

        /* --- [8. Calendar] --- */
        .cal-container { background: #fff; color: #333; border-radius: 25px; padding: 20px; }
        .cal-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 2px; background: #eee; border-radius: 10px; overflow: hidden; }
        .cal-cell { background: #fff; min-height: 90px; padding: 8px; cursor: pointer; position: relative; }
        .emo-scroll-box { display: flex; gap: 12px; overflow-x: auto; padding: 15px 5px; }
        .emo-item { flex: 0 0 auto; width: 60px; text-align: center; cursor: pointer; padding: 10px; border-radius: 15px; border: 1.5px solid #eee; }
        .emo-item.active { border-color: var(--msg-blue); background: #f0f7ff; }

        /* Common UI */
        .btn-action { background: var(--msg-blue); color: white; border: none; padding: 16px; border-radius: 15px; cursor: pointer; width: 100%; font-weight: 700; margin-top: 15px; }
        input, textarea { width: 100%; padding: 16px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.15); color: white; border-radius: 15px; box-sizing: border-box; margin-bottom: 15px; font-size: 1rem; }
    </style>
</head>
<body>

<div id="bgm-player-container" style="position: fixed; top: -1000px; left: -1000px;">
    <div id="player"></div>
</div>

<div id="sitemap-btn" onclick="openTab('sitemap')">‚ò∞</div>
<div id="user-indicator" onclick="openTab('profile')">ACCESS: <span id="active-user"></span></div>

<div id="entry-page">
    <div class="lock-box">
        <h2 style="color:#fff; letter-spacing:2px; margin-bottom:20px;">VILLA 302</h2>
        <div style="display:flex; gap:12px; margin-bottom:30px;">
            <button onclick="selectUser('ÌèâÌôî','1231')" id="btn-ÌèâÌôî" class="user-sel-btn">ÌèâÌôî</button>
            <button onclick="selectUser('Ïù∏Ï≤†','0526')" id="btn-Ïù∏Ï≤†" class="user-sel-btn">Ïù∏Ï≤†</button>
        </div>
        <div id="pw-disp">----</div>
        <div style="display:grid; grid-template-columns: repeat(3, 1fr); gap:15px;">
            <script>for(let i=1; i<=9; i++) document.write(`<div style="padding:22px; background:rgba(255,255,255,0.05); border-radius:15px; cursor:pointer;" onclick="pressKey('${i}')">${i}</div>`);</script>
            <div style="padding:22px; background:rgba(255,255,255,0.05); border-radius:15px; cursor:pointer;" onclick="inputPw=''; updatePwDisp();">C</div>
            <div style="padding:22px; background:rgba(255,255,255,0.05); border-radius:15px; cursor:pointer;" onclick="pressKey('0')">0</div>
            <div style="padding:22px; background:var(--neon-red); border-radius:15px; cursor:pointer;" onclick="checkPw()">E</div>
        </div>
    </div>
</div>

<div id="stage">
    <div class="target wall-pos" onclick="openTab('wall')"></div>
    <div class="target movie-pos" onclick="openTab('movie')"></div>
    <div class="target cal-pos" onclick="openTab('calendar')"></div>
    <div class="target diary-pos" onclick="openTab('diary')"></div>
    <div class="target photo-pos" onclick="openTab('gallery')"></div>
    <div class="target lib-pos" onclick="openTab('library')"></div>
    <div class="target exit-pos" onclick="exitRoom()"></div>
</div>

<div id="main-modal" class="modal">
    <div class="modal-inner" id="modal-box">
        <span class="close-btn" onclick="closeModal()">&times;</span>
        <div id="modal-content"></div>
    </div>
</div>

<script>
    // --- [1. Firebase & Global Init] ---
    const firebaseConfig = {
        apiKey: "AIzaSyDLTGv4Z3zJUseuKw1acvHHwPzooZhXodc",
        authDomain: "villa302.firebaseapp.com",
        databaseURL: "https://villa302-default-rtdb.firebaseio.com",
        projectId: "villa302",
        storageBucket: "villa302.firebasestorage.app",
        messagingSenderId: "166700659009",
        appId: "1:166700659009:web:18c2872914aab8b4bbf1c0"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    let currentUser = "", targetPw = "", inputPw = "", userProfiles = {};
    let player, playlistIds = [], currentVolume = 50;

    // --- [2. YouTube IFrame API] ---
    var tag = document.createElement('script');
    tag.src = "https://www.youtube.com/iframe_api";
    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

    function onYouTubeIframeAPIReady() {
        player = new YT.Player('player', {
            height: '0', width: '0',
            playerVars: { 'autoplay': 1, 'loop': 1, 'controls': 0, 'disablekb': 1 },
            events: { 'onReady': onPlayerReady, 'onStateChange': onPlayerStateChange }
        });
    }
    function onPlayerReady(event) { syncBGM(); }
    function onPlayerStateChange(event) {
        if (event.data === YT.PlayerState.ENDED) { player.playVideo(); }
    }

    // --- [3. BGM Core Logic] ---
    function syncBGM() {
        db.ref('bgm_list').on('value', s => {
            const data = s.val();
            if(data) {
                playlistIds = Object.values(data).map(i => i.id);
                if(player && player.loadPlaylist) {
                    player.loadPlaylist({ playlist: playlistIds.join(','), listType: 'playlist' });
                    player.setLoop(true);
                    player.setVolume(currentVolume);
                }
            }
        });
    }

    function addBGM() {
        const input = document.getElementById('bgm-link-in').value;
        if(!input) return;
        const vid = input.includes('v=') ? input.split('v=')[1].split('&')[0] : input;
        db.ref('bgm_list').push({ id: vid, title: "Track " + (playlistIds.length + 1) });
        document.getElementById('bgm-link-in').value = "";
    }

    function setVolume(v) {
        currentVolume = v;
        if(player) player.setVolume(v);
    }

    // --- [4. Auth & UI Controls] ---
    window.addEventListener('keydown', (e) => {
        if (e.key === "Escape") closeModal();
        if (document.getElementById('entry-page').style.display !== 'none' && currentUser) {
            if (/^(Digit|Numpad)[0-9]$/.test(e.code)) pressKey(e.code.slice(-1));
            else if (e.key === "Enter") checkPw();
            else if (e.key === "Backspace") { inputPw = inputPw.slice(0, -1); updatePwDisp(); }
        }
    });

    function selectUser(u, p) { currentUser = u; targetPw = p; inputPw = ""; document.querySelectorAll('.user-sel-btn').forEach(b => b.classList.remove('active')); document.getElementById('btn-'+u).classList.add('active'); updatePwDisp(); }
    function pressKey(n) { if(inputPw.length < 4) inputPw += n; updatePwDisp(); }
    function updatePwDisp() { document.getElementById('pw-disp').innerText = "*".repeat(inputPw.length) || "----"; }
    function checkPw() {
        if(inputPw === targetPw) {
            document.getElementById('entry-page').style.display='none';
            document.getElementById('user-indicator').style.display='flex';
            document.getElementById('sitemap-btn').style.display='flex';
            document.getElementById('active-user').innerText = currentUser;
            db.ref('profiles').on('value', s => { userProfiles = s.val() || {}; });
            if(player) player.playVideo();
        } else { alert("Error"); inputPw=""; updatePwDisp(); }
    }

    // --- [5. Tabs & Modals] ---
    const tabs = {
        sitemap: () => `<h3>SITEMAP</h3><div style="display:grid; grid-template-columns:1fr 1fr; gap:15px;">
            <div style="background:rgba(255,255,255,0.05); padding:20px; border-radius:15px; cursor:pointer; text-align:center;" onclick="openTab('diary')">üìî Diary</div>
            <div style="background:rgba(255,255,255,0.05); padding:20px; border-radius:15px; cursor:pointer; text-align:center;" onclick="openTab('library')">üìö Library</div>
            <div style="background:rgba(255,255,255,0.05); padding:20px; border-radius:15px; cursor:pointer; text-align:center;" onclick="openTab('calendar')">üìÖ Calendar</div>
            <div style="background:rgba(255,255,255,0.05); padding:20px; border-radius:15px; cursor:pointer; text-align:center;" onclick="openTab('bgm_mgr')">üéµ BGM Control</div>
        </div>`,
        bgm_mgr: () => `<h3>üéµ BGM CONTROL</h3>
            <p style="font-size:0.8rem; color:#8e8e93;">YouTube ÎßÅÌÅ¨Î•º Ï∂îÍ∞ÄÌïòÏó¨ Î¶¨Ïä§Ìä∏Î•º ÎßåÎìúÏÑ∏Ïöî.</p>
            <input id="bgm-link-in" placeholder="https://youtube.com/watch?v=...">
            <button class="btn-action" onclick="addBGM()">Î¶¨Ïä§Ìä∏Ïóê Ï∂îÍ∞Ä & Ï†ÄÏû•</button>
            <input type="range" class="vol-slider" min="0" max="100" value="${currentVolume}" oninput="setVolume(this.value)">
            <div id="bgm-list-area" style="margin-top:20px;"></div>
            <button class="btn-action" style="background:#444;" onclick="player.pauseVideo()">ÏùåÏïÖ ÎÅÑÍ∏∞</button>
            <button class="btn-action" style="background:#555;" onclick="player.playVideo()">ÏùåÏïÖ ÏºúÍ∏∞</button>`,
        library: () => `<h3>üìö LIBRARY</h3><input id="book-title" placeholder="ÎèÑÏÑú Ï†úÎ™©"><button class="btn-action" onclick="addBook()">Ï±ÖÏû•Ïóê Ï∂îÍ∞Ä</button><div class="shelf" id="shelf-area" style="margin-top:20px;"></div>`,
        diary: () => `<div id="diary-chat"></div><div style="padding:20px; background:#fff; display:flex; gap:10px; align-items:center;">
            <textarea id="d-in" placeholder="iMessage" style="margin:0; background:#f1f1f2; color:#000; border:none; height:45px; border-radius:22px; resize:none; padding:12px 20px;"></textarea>
            <button id="send-btn" onclick="saveDiary()">‚Üë</button></div>`,
        calendar: () => `<h3>üìÖ CALENDAR</h3><div id="cal-render-area"></div><div id="cal-editor" style="display:none; margin-top:20px; background:#f9f9f9; padding:20px; border-radius:20px; color:#333;"><div class="emo-scroll-box">${['üè†','üêü','‚≠ê','üé¨','üç∫','üò≠','üí°'].map(e => `<div class="emo-item" id="emo-${e}" onclick="selectEmo('${e}')">${e}</div>`).join('')}</div><input id="cal-memo-in" style="background:#fff; color:#000; border:1px solid #ddd;" placeholder="Î©îÎ™®..."><button class="btn-action" onclick="saveCal()">Ï†ÄÏû•</button></div>`,
        wall: () => `<h3>üß± THE WALL</h3><textarea id="wall-in" placeholder="ÌïúÎßàÎîî ÎÇ®Í∏∞Í∏∞..."></textarea><button class="btn-action" onclick="saveWall()">Îì±Î°ù</button><div class="wall-grid" id="wall-list" style="margin-top:20px;"></div>`,
        profile: () => `<h3>üë§ PROFILE</h3><div id="prof-preview" style="width:120px; height:120px; border-radius:50%; margin:0 auto 20px; background-size:cover; background-position:center; border:3px solid var(--neon-green); background-image:url('${userProfiles[currentUser]||''}')"></div><input type="file" onchange="previewImg(this)"><button class="btn-action" onclick="saveProfile()">Ï†ÄÏû•</button>`,
        movie: () => `<h3>üé¨ MOVIE LOG</h3><input id="m-in" placeholder="ÏòÅÌôî Ï†úÎ™©"><button class="btn-action" onclick="addMovie()">Ï∂îÍ∞Ä</button><div id="m-list" style="margin-top:20px;"></div>`,
        gallery: () => `<h3>üì∏ GALLERY</h3><input type="file" onchange="uploadPhoto(this)"><div id="g-list" style="display:grid; grid-template-columns:1fr 1fr 1fr; gap:10px; margin-top:20px;"></div>`
    };

    function openTab(id) {
        const box = document.getElementById('modal-box');
        id === 'diary' ? box.classList.add('diary-theme') : box.classList.remove('diary-theme');
        document.getElementById('modal-content').innerHTML = tabs[id]();
        document.getElementById('main-modal').style.display = 'flex';
        if(id==='bgm_mgr') renderBGMList();
        if(id==='library') loadBooks();
        if(id==='diary') loadDiary();
        if(id==='calendar') renderCalendar();
        if(id==='wall') loadWall();
        if(id==='movie') loadMovies();
        if(id==='gallery') loadGallery();
    }
    function closeModal() { document.getElementById('main-modal').style.display = 'none'; }

    // --- [6. Functional Details] ---
    function renderBGMList() {
        db.ref('bgm_list').on('value', s => {
            const list = document.getElementById('bgm-list-area');
            if(!list) return;
            list.innerHTML = "";
            const d = s.val();
            if(d) Object.keys(d).forEach(k => {
                list.innerHTML += `<div class="playlist-item"><span>üéµ ${d[k].id}</span><span style="cursor:pointer; color:var(--neon-red);" onclick="db.ref('bgm_list/${k}').remove()">ÏÇ≠Ï†ú</span></div>`;
            });
        });
    }

    // (Í∏∞Ï°¥ ÎùºÏù¥Î∏åÎü¨Î¶¨, ÏùºÍ∏∞Ïû•, Ï∫òÎ¶∞Îçî Î°úÏßÅ ÎèôÏùº Ïú†ÏßÄ)
    function addBook() { const title = document.getElementById('book-title').value; if(title) db.ref('library').push({title, color:'#8c3b3b', u:currentUser, d:new Date().toLocaleDateString()}); }
    function loadBooks() { db.ref('library').on('value', s => { const a = document.getElementById('shelf-area'); if(!a) return; a.innerHTML = ""; const d = s.val(); if(d) Object.keys(d).forEach(k => { a.innerHTML += `<div class="book" style="background:${d[k].color}" onclick="if(confirm('ÏÇ≠Ï†ú?')) db.ref('library/${k}').remove();"><div class="book-title">${d[k].title}</div></div>`; }); }); }
    function saveDiary() { const t = document.getElementById('d-in').value; if(t.trim()) db.ref('diary_v2').push({u:currentUser, t:t.trim(), ts:Date.now()}); document.getElementById('d-in').value=""; }
    function loadDiary() { db.ref('diary_v2').on('value', s => { const c = document.getElementById('diary-chat'); if(!c) return; c.innerHTML = ""; const d = s.val(); if(d) Object.keys(d).forEach(k => { const isMine = d[k].u === currentUser; c.innerHTML += `<div class="diary-row" style="flex-direction:${isMine?'row-reverse':'row'}"><div class="profile-pic" style="background-image:url('${userProfiles[d[k].u]||''}')"></div><div class="bubble ${isMine?'mine':'yours'}" onclick="${isMine?`if(confirm('ÏÇ≠Ï†ú?')) db.ref('diary_v2/${k}').remove()` : ''}">${d[k].t}</div></div>`; }); c.scrollTop = c.scrollHeight; }); }
    function renderCalendar() { db.ref('cal_v3').on('value', s => { const data = s.val() || {}; let html = `<div class="cal-container"><div class="cal-grid">`; for(let d=1; d<=31; d++){ const key=`2024-10-${d}`; html+=`<div class="cal-cell" onclick="selectedCalKey='${key}'; document.getElementById('cal-editor').style.display='block';"><div>${d}</div><div style="text-align:center;">${data[key]?.emo||''}</div></div>`; } document.getElementById('cal-render-area').innerHTML = html + `</div></div>`; }); }
    function selectEmo(e) { selectedEmo = e; document.querySelectorAll('.emo-item').forEach(el=>el.classList.remove('active')); document.getElementById('emo-'+e).classList.add('active'); }
    function saveCal() { db.ref('cal_v3/'+selectedCalKey).set({emo:selectedEmo, memo:document.getElementById('cal-memo-in').value}); }
    function previewImg(i) { if(i.files[0]) { const r = new FileReader(); r.onload = e => { document.getElementById('prof-preview').style.backgroundImage = `url('${e.target.result}')`; window.tmp = e.target.result; }; r.readAsDataURL(i.files[0]); } }
    function saveProfile() { if(window.tmp) db.ref('profiles/'+currentUser).set(window.tmp); }
    function exitRoom() { location.reload(); }
    function saveWall() { const t = document.getElementById('wall-in').value; if(t) db.ref('wall').push({t, u:currentUser}); }
    function loadWall() { db.ref('wall').on('value', s => { const l = document.getElementById('wall-list'); if(!l) return; l.innerHTML=""; const d = s.val(); if(d) Object.keys(d).reverse().forEach(k => { l.innerHTML += `<div class="note">${d[k].t}<br><small>From. ${d[k].u}</small></div>`; }); }); }
    function addMovie() { const t = document.getElementById('m-in').value; if(t) db.ref('movie_v2').push({t, u:currentUser}); }
    function loadMovies() { db.ref('movie_v2').on('value', s => { const d = s.val(); document.getElementById('m-list').innerHTML = d ? Object.values(d).reverse().map(i => `<div style="background:rgba(255,255,255,0.05); padding:10px; margin-bottom:5px;">üé¨ ${i.t}</div>`).join('') : ""; }); }
    function uploadPhoto(i) { if(i.files[0]) { const r = new FileReader(); r.onload = e => db.ref('gallery_v2').push({img: e.target.result}); r.readAsDataURL(i.files[0]); } }
    function loadGallery() { db.ref('gallery_v2').on('value', s => { const d = s.val(); document.getElementById('g-list').innerHTML = d ? Object.keys(d).map(k => `<div style="aspect-ratio:1/1; background-image:url('${d[k].img}'); background-size:cover;" onclick="if(confirm('ÏÇ≠Ï†ú?')) db.ref('gallery_v2/${k}').remove()"></div>`).join('') : ""; }); }
</script>
</body>
</html>